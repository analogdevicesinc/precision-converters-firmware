<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="Supported Devices:" name="description" />

    <title>AD5770r Console Application &#8212; Precision Converters Firmware  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=8e8a900e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/app.min.css?v=31a9e0ba" />
    <script async="async" src="../../../_static/app.umd.js?v=3a4867e9"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="AD579X IIO Application" href="../ad579x_iio/ad579x_iio.html" />
    <link rel="prev" title="AD5754R/CN0586 IIO Application" href="../ad5754r_iio/ad5754r_iio.html" />
   
  
  
  <meta name="repository" content="precision-converters-firmware">
  <meta name="version" content="">
  
    <meta name="page_source_suffix" content=".rst">
  
  
  


<style>
  body {
    
  }

  body.dark {
    
  }

  @media (prefers-color-scheme: dark) {
    body:not(.light) {
      
    }
  }
</style>
  </head>
  
    <body>
  
  <input type="checkbox" id="input-show-toc">
  <input type="checkbox" id="input-show-localtoc">
  <input type="checkbox" id="input-show-repotoc">

  
  <div class="search-area">
    <form action="" method="get">
      <input type="text" name="q" aria-labelledby="search-documentation" value="" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="search" placeholder="Search"/>
      <button class="icon"></button>
    </form>
  </div>
  

  <header>
    <div id="left">
      <label id="show-sidebar" class="icon" for="input-show-toc" title="Show/hide index"></label>
    </div>
    <div id="right">
      <span>
        <a id="logo-org" href="https://analog.com" aria-label="Analog Devices Inc. landing page"></a>
        <div class="vertical-divider"></div>
        
        <label id="show-repotoc" for="input-show-repotoc" title="Show/hide docs" tabindex="0">Docs</label>
        
        <a id="logo" href="../../../index.html">
          <div>Precision Converters Firmware</div>
        </a>
      </span>
      <span class="reverse">
        <label id="show-localtoc" class="icon" for="input-show-localtoc" title="Show/hide contents"></label>
      </span>
    </div>
  </header>


  <div class="repotoc-tree overlay">
    <root>
  <a href="../../../index.html" class="current">Precision Converters Firmware</a>
</root>

  </div>
    <div class="localtoc">
      <div class="tocwrapper">
        <div class="header localtoc-header">
          <a id="scroll-up" href="#top-anchor" title="Back to top"></a>
        </div>
        <nav>
          <ul>
<li><a class="reference internal" href="#">AD5770r Console Application</a><ul>
<li><a class="reference internal" href="#supported-hardware">Supported Hardware</a></li>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#interface-diagram">Interface Diagram</a></li>
<li><a class="reference internal" href="#useful-links">Useful Links</a></li>
<li><a class="reference internal" href="#build-guide">Build Guide</a><ul>
<li><a class="reference internal" href="#build-prerequisites">Build Prerequisites</a></li>
<li><a class="reference internal" href="#building-a-project">Building a project</a></li>
<li><a class="reference internal" href="#running-a-project">Running a project</a></li>
</ul>
</li>
<li><a class="reference internal" href="#quick-start">Quick Start</a></li>
<li><a class="reference internal" href="#using-the-firmware">Using the Firmware</a></li>
<li><a class="reference internal" href="#main-menu">Main Menu</a></li>
<li><a class="reference internal" href="#dac-operaions">DAC Operaions</a></li>
<li><a class="reference internal" href="#support">Support</a></li>
</ul>
</li>
</ul>

        </nav>
      </div>
    </div>

  
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
    <a id="no-logo" href="../../../index.html">
      Precision Converters Firmware
    </a><input id="input-switch-toc" type="checkbox">
<label id="show-repotoc" for="input-switch-toc">
All content
</label>
<label id="show-toc" for="input-switch-toc">
Content on this topic
</label>
<div class="repotoc-tree">
  <root>
  <a href="../../../index.html" class="current">Precision Converters Firmware</a>
</root>

</div>
<div class="toc-tree">
  <html>
  <body><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../build/project_build.html">Build Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../code_style.html">Code Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing to PCFW Repository</a></li>
<li class="toctree-l1 current"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1" id="toctree-collapse-1" checked=""/><div class="collapse"><a class="reference internal" href="../index.html">Firmware Applications</a><label for="toctree-collapse-1"><div class="icon"></div></label></div><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../ad2s1210_iio/ad2s1210_iio.html">AD2S1210 IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad353xr_iio/ad353xr_iio.html">AD3530R IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad355xr_iio/ad355xr_iio.html">AD355XR IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad405x_iio/ad405x_iio.html">AD405x IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad4080_iio/ad4080_iio.html">AD4080 IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad4130_iio/ad4130_iio.html">AD4130 IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad4170_iio/ad4170_iio.html">AD4170 IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad4696_iio/ad4696_iio.html">AD4696 IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad559xr_console/ad559xr_console.html">AD559XR Console Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad5754r_iio/ad5754r_iio.html">AD5754R/CN0586 IIO Application</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">AD5770r Console Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad579x_iio/ad579x_iio.html">AD579X IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad590_console/ad590_console.html">AD590 Console Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad5933_console/ad5933_console.html">AD5933 Console Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad7124_console/ad7124_console.html">AD7124 Console Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad7124_iio/ad7124_iio.html">AD7124 IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad7124_temperature-measure/ad7124_temperature-measure.html">AD7124 Temperature Measure Firmware Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad4134_iio/ad4134_iio.html">AD4134/AD7134 IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad717x_console/ad717x_console.html">AD717x / AD411x Console Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad717x_iio/ad717x_iio.html">AD717x / AD411x IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad719x_iio/ad719x_iio.html">AD719x IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad738x_iio/ad738x_iio.html">AD738x IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad7606_iio/ad7606_iio.html">AD7606 IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad7689_iio/ad7689_iio.html">AD7689 IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad77681_iio/ad77681_iio.html">AD7768-1 IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad777x_iio/ad777x_iio.html">AD777x IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../adt7420_console/adt7420_console.html">ADT7420 Console Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ltc268x_console/ltc268x_console.html">LTC268x Console Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ltc2672_iio/ltc2672_iio.html">LTC2672 IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nanodac_console/nanodac_console.html">nanoDAC+ Console Application</a></li>
</ul>
</li>
</ul>
</body>
</html>

</div>
        </div>
      </div>

  <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper" id="top-anchor">
          <div class="body-header">
  <nav class="breadcrumb"><ol><li><a href="../index.html">Firmware Applications</a></li></ol></nav>
</div>
          <div class="body" role="main">
            
  <section id="ad5770r-console-application">
<h1>AD5770r Console Application<a class="headerlink" href="#ad5770r-console-application" title="Link to this heading"></a></h1>
<section id="supported-hardware">
<h2>Supported Hardware<a class="headerlink" href="#supported-hardware" title="Link to this heading"></a></h2>
<p><strong>Supported Devices:</strong></p>
<ul class="simple">
<li><p><a class="icon link reference external" href="https://www.analog.com/en/products/ad5770r.html" target="_blank">AD5770R</a></p></li>
</ul>
<p><strong>Supported Evaluation Boards:</strong></p>
<ul class="simple">
<li><p><a class="icon link reference external" href="https://www.analog.com/en/resources/evaluation-hardware-and-software/evaluation-boards-kits/EVAL-AD5770R.html" target="_blank">EVAL-AD5770R</a></p></li>
</ul>
<p><strong>Supported Carrier Boards:</strong></p>
<ul class="simple">
<li><p><a class="icon link reference external" href="https://www.analog.com/en/resources/evaluation-hardware-and-software/evaluation-boards-kits/sdp-k1.html#eb-overview" target="_blank">SDP-K1</a></p></li>
</ul>
</section>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading"></a></h2>
<p>The AD5770R is a 6-channel, 14-bit resolution, low noise, programmable current output digital-to-analog converter (DAC) for photonics control applications. This chip incorporates a 1.25 V on-chip voltage reference, a 2.5 kΩ precision resistor for reference current generation, die temperature, output monitoring functions, fault alarm, and reset functions.</p>
<p>The AD5770R contains five 14-bit resolution current sourcing DAC channels and one 14-bit resolution current sourcing/ sinking DAC channel.</p>
<p>Channel 0 can be configured to sink up to 60 mA and source up to 300 mA. Channel 1 to Channel 5 have multiple, programmable output current sourcing ranges, set by register access. Each DAC can operate with a wide power supply rail from 0.8 V to AVDD − 0.4 V for optimizing power efficiency and thermal power dissipation.</p>
<p>This page describes the AD5770R firmware example running on the SDP-K1 controller board, interfacing with the AD5770R evaluation board. The firmware example comprises 3 layers of software, It can support STM32 platform.</p>
<ul>
<li><p>Console Application - uses the ADI console libraries to provide a basic terminal UI</p></li>
<li><p>AD5770R No-OS Driver - AD5770R device C API</p></li>
<li><p>Platform Drivers - Hardware Abstraction Layer (SPI, GPIO, …) to adapt No-OS driver</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/ad5770r_architecture.jpg"><img alt="../../../_images/ad5770r_architecture.jpg" src="../../../_images/ad5770r_architecture.jpg" style="width: 400px;" />
</a>
</div></blockquote>
</li>
</ul>
<p>The AD5770R firmware example can be used as a starting point for developing your own code in your own environment. The Platform simplifies the overall software development process by providing a common low level driver abstraction. This reduces the hardware dependency on any STM32 board can be used with same firmware with little to no modifications, usually just changing the pin mapping.</p>
</section>
<section id="interface-diagram">
<h2>Interface Diagram<a class="headerlink" href="#interface-diagram" title="Link to this heading"></a></h2>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/ad5770r_interface_diagram.jpg"><img alt="../../../_images/ad5770r_interface_diagram.jpg" src="../../../_images/ad5770r_interface_diagram.jpg" style="width: 500px;" />
</a>
</div></blockquote>
<p>The AD5770R Evaluation Board is connected to SDP-K1 using the 120-pin SDP Connector. The evaluation board must be powered externally, typically using an external 3.3V DC supply connected to the AVDD input supply terminal, if using the default power supply jumper settings.</p>
<p>The SDP-K1 is connected to a PC through a USB cable. The firmware image, a .BIN file created using the online mbed compiler, can be loaded into SDP-K1 board by copying the .BIN file to the drive representing the SDP-K1. The SDP-K1 provides a USB to Serial link (UART) and any serial terminal (such as Teraterm, Putty, Coolterm, etc) can be used to connect to by configuring terminal with the necessary settings (serial port, baud rate, data bits, etc).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Connect the VIO_ADJUST jumper on the SDP-K1 board to 3.3V position to drive SDP-K1 GPIOs at 3.3V</p>
</div>
</section>
<section id="useful-links">
<h2>Useful Links<a class="headerlink" href="#useful-links" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><a class="icon link reference external" href="https://github.com/analogdevicesinc/precision-converters-firmware" target="_blank">Source Code: Precision Converters Firmware</a></p></li>
<li><p><a class="icon link reference external" href="https://github.com/analogdevicesinc/no-OS" target="_blank">no-OS: Software drivers for systems without OS</a></p></li>
<li><p><a class="icon link reference external" href="https://www.analog.com/en/resources/evaluation-hardware-and-software/evaluation-boards-kits/sdp-k1.html#eb-overview" target="_blank">SDP-K1</a></p></li>
<li><p><a class="icon link reference external" href="https://github.com/analogdevicesinc/linux" target="_blank">Linux Drivers</a></p></li>
<li><p><a class="icon link reference external" href="https://github.com/analogdevicesinc/hdl" target="_blank">HDL Source Code</a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Linux and HDL are not used in emebdded IIO firmware projects but
they may be of interest if you require Linux and/or FPGA support.</p>
</div>
</section>
<section id="build-guide">
<h2>Build Guide<a class="headerlink" href="#build-guide" title="Link to this heading"></a></h2>
<section id="build-prerequisites">
<h3>Build Prerequisites<a class="headerlink" href="#build-prerequisites" title="Link to this heading"></a></h3>
<p>Prior to building a firmware project, it is required to set up an environment so
that the build process may find the necessary tools (compiler, linker, SDK etc.).
Use the following steps to prepare your environment for building firmware projects
for respective platform.</p>
<div><div class="collapsible docutils container">
<input class="collapsible_input" id="c2875a1b1aa1c2a010c59a908fb40d61a7159c83" name="c2875a1b1aa1c2a010c59a908fb40d61a7159c83" type="checkbox"></input><label for="c2875a1b1aa1c2a010c59a908fb40d61a7159c83"><p>Windows</p>
<div class="icon"></div></label><div class="collapsible_content docutils container">
<div><div class="collapsible docutils container">
<input class="collapsible_input" id="0b016c31a7c49aaf106d1a452555f2fe370a097f" name="0b016c31a7c49aaf106d1a452555f2fe370a097f" type="checkbox"></input><label for="0b016c31a7c49aaf106d1a452555f2fe370a097f"><p>STM32</p>
<div class="icon"></div></label><div class="collapsible_content docutils container">
<ul>
<li><p>Clone Precision Converters Firmware repository with the –recursive flag:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>--recursive<span class="w"> </span>https://github.com/analogdevicesinc/precision-converters-firmware
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>If however you’ve already cloned the repository without the –recursive flag, you may initialize all the submodules in an existing cloned repo with:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>submodule<span class="w"> </span>update<span class="w"> </span>--recursive<span class="w"> </span>--init
</pre></div>
</div>
<div><div class="collapsible docutils container">
<input class="collapsible_input" id="31dd6c13542299d944a089597884f96e3993de5c" name="31dd6c13542299d944a089597884f96e3993de5c" type="checkbox"></input><label for="31dd6c13542299d944a089597884f96e3993de5c"><p>For STM32 IDE based Build</p>
<div class="icon"></div></label><div class="collapsible_content docutils container">
<ul>
<li><p>Install <a class="icon link reference external" href="https://www.st.com/en/development-tools/stm32cubeide.html" target="_blank">STM32CubeIDE</a></p></li>
<li><p>Install <a class="icon link reference external" href="https://www.st.com/en/development-tools/stm32cubemx.html" target="_blank">STM32CubeMX</a></p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/environmental_variables.png"><img alt="../../../_images/environmental_variables.png" src="../../../_images/environmental_variables.png" style="width: 400px;" />
</a>
</div></blockquote>
</li>
</ul>
</div>
</div>
</div></div>
</div>
</div></div>
</div>
</div></section>
<section id="building-a-project">
<h3>Building a project<a class="headerlink" href="#building-a-project" title="Link to this heading"></a></h3>
<p>Once the build enviornment is setup, follow the guide below to build your project
and generate executable file (.bin/.hex)</p>
<div><div class="collapsible docutils container">
<input class="collapsible_input" id="177a48d1a1cc510eeeafd4ff955fe0a3d5492a25" name="177a48d1a1cc510eeeafd4ff955fe0a3d5492a25" type="checkbox"></input><label for="177a48d1a1cc510eeeafd4ff955fe0a3d5492a25"><p>Windows</p>
<div class="icon"></div></label><div class="collapsible_content docutils container">
<div><div class="collapsible docutils container">
<input class="collapsible_input" id="c9175659e704e1f0c11f6803eed9158192d06478" name="c9175659e704e1f0c11f6803eed9158192d06478" type="checkbox"></input><label for="c9175659e704e1f0c11f6803eed9158192d06478"><p>STM32</p>
<div class="icon"></div></label><div class="collapsible_content docutils container">
<div><div class="collapsible docutils container">
<input class="collapsible_input" id="0613647c4123d0f32002dfe5b2e8b17c52cdbffc" name="0613647c4123d0f32002dfe5b2e8b17c52cdbffc" type="checkbox"></input><label for="0613647c4123d0f32002dfe5b2e8b17c52cdbffc"><p>Build Using STM32 IDE</p>
<div class="icon"></div></label><div class="collapsible_content docutils container">
<ul>
<li><p>Open the respective project directory by navigating into the “precision_converters_firmware/projects/” folder.</p></li>
<li><p>In the “STM32” folder present within the project directory, double click and open the .ioc file present within.</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/stm32_project_directory.png"><img alt="../../../_images/stm32_project_directory.png" src="../../../_images/stm32_project_directory.png" style="width: 600px;" />
</a>
</div></blockquote>
</li>
<li><p>Click on the “Generate Code” option seen on the top right corner</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/stm32_generate_code.png"><img alt="../../../_images/stm32_generate_code.png" src="../../../_images/stm32_generate_code.png" style="width: 600px;" />
</a>
</div></blockquote>
</li>
<li><p>Upon successful generation of drivers for the selected MCU, the autogenerated files would be seen in the same directory where the .ioc file was present. Double click and open the “.project” file seen in the list of files</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/stm32_auto_generated_files.png"><img alt="../../../_images/stm32_auto_generated_files.png" src="../../../_images/stm32_auto_generated_files.png" style="width: 600px;" />
</a>
</div></blockquote>
</li>
<li><p>After the project is loaded to the STM32CubeIDE, unfold the adxxxx_iio project seen in the project explorer, right click the “app” folder, select “Settings” under the “C/C++ Build” section on the left pane and un-check the “Exclude resources from build” checkbox. This would ensure that the project specific files are included by the build system</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/stm32_exclude_files_option.png"><img alt="../../../_images/stm32_exclude_files_option.png" src="../../../_images/stm32_exclude_files_option.png" style="width: 600px;" />
</a>
</div></blockquote>
</li>
<li><p>In order to choose STM32 platform in the firmware, select the “ACTIVE_PLATFORM” as “STM32_PLATFORM” in the app_config.h from the respective project. Alternately , add compiler flag “ACTIVE_PLATFORM=value of STM32_PLATFORM in app_config.h” for selecting stm32 platform.</p></li>
<li><p>Add compiler flags “-u _printf_float” to the project settings.</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/stm32_compiler_flag.png"><img alt="../../../_images/stm32_compiler_flag.png" src="../../../_images/stm32_compiler_flag.png" style="width: 600px;" />
</a>
</div></blockquote>
</li>
<li><p>Exclude the generated file syscalls.c from the build process</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/stm32_exclude_syscalls.png"><img alt="../../../_images/stm32_exclude_syscalls.png" src="../../../_images/stm32_exclude_syscalls.png" style="width: 600px;" />
</a>
</div></blockquote>
</li>
<li><dl>
<dt>To generate the binary file, right click on the adxxxx_iio project seen in the project explorer and select “Properties”, select “Settings” under the “C/C++ Build” section on the left pane, select “MCU Post build outputs” under “Tool Settings” section and check the “Convert to binary file (-O binary)” checkbox.</dt><dd><a class="reference internal image-reference" href="../../../_images/stm32_convert_to_binary.png"><img alt="../../../_images/stm32_convert_to_binary.png" src="../../../_images/stm32_convert_to_binary.png" style="width: 600px;" />
</a>
</dd>
</dl>
</li>
<li><p>Build the project by right-clicking on the adxxxx_iio project seen in the project explorer and select “Build Project”</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/stm32_build_project.png"><img alt="../../../_images/stm32_build_project.png" src="../../../_images/stm32_build_project.png" style="width: 600px;" />
</a>
</div></blockquote>
</li>
</ul>
</div>
</div>
</div></div>
</div>
</div></div>
</div>
</div></section>
<section id="running-a-project">
<h3>Running a project<a class="headerlink" href="#running-a-project" title="Link to this heading"></a></h3>
<p>Once the firmware build is successful and binary file is generated, copy the
generated binary into USB drive hosted by your MCU board (e.g. USB drive hosted
by MCU board on windows). This will flash the binary file into MCU present
on the controller board. Programming might vary based on the tools used for building
a project. The ‘Project Build’ section above talks about this exception at the end
of all build steps.</p>
</section>
</section>
<section id="quick-start">
<h2>Quick Start<a class="headerlink" href="#quick-start" title="Link to this heading"></a></h2>
<p>If you have some familiarity with the STM32 platform, the following is a basic list of steps required to start running the code,
see below for more detail:</p>
<ul class="simple">
<li><p>Connect the evaluation board to the SDP-K1 controller board, and power it appropriately, usually 3.3V to AVDD.</p></li>
<li><p>Connect the SDP-K1 controller board to your computer over USB.</p></li>
<li><p>Follow the steps mentioned in the Build Guide section above.</p></li>
<li><dl class="simple">
<dt>Start up a serial terminal emulator (e.g. Tera Term)</dt><dd><ul>
<li><p>Find the com-port your controller board is connected on and select it.</p></li>
<li><p>Set the baud-rate for 230400</p></li>
<li><p>Reset the controller board and connect.</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>The terminal windows should display the console menu providing access to the AD5770R functionality.</p></li>
</ul>
</section>
<section id="using-the-firmware">
<h2>Using the Firmware<a class="headerlink" href="#using-the-firmware" title="Link to this heading"></a></h2>
<p>The example is menu driven, providing keyboard shortcuts to access/execute the menus items, and prompting for further inputs where necessary. When the example runs, it attempts to connect and initialize the AD5770R. The configuration used is defined in the ad5770r_user_config.h file, which can be modified as needs be to suit specific applications.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While much of the functionality of the AD5770R No-OS driver is made available through the console UI, not all function are available. The additional AD5770R functionality can only be configured the ad5770r_user_config.c file.</p>
</div>
</section>
<section id="main-menu">
<h2>Main Menu<a class="headerlink" href="#main-menu" title="Link to this heading"></a></h2>
<p>The AD5770R Console App main menu provides basic initialization/reset type functions, and access to several sub-menus that provide more detailed configuration and control settings. Like most menus in the firmware, the menu options are framed by a header and footer that display status information related to the functions on the menu.</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/ad5770r_console_application.jpg"><img alt="../../../_images/ad5770r_console_application.jpg" src="../../../_images/ad5770r_console_application.jpg" style="width: 400px;" />
</a>
</div></blockquote>
<p>The value of the scratchpad register is displayed in both the header and the footer. After reading the scratchpad value for the header, the value is incremented and written back to the device, such that the scratchpad footer value should always be equal to the header value + 1. This can be useful a debug aid to confirm communications.</p>
</section>
<section id="dac-operaions">
<h2>DAC Operaions<a class="headerlink" href="#dac-operaions" title="Link to this heading"></a></h2>
<p>This menu provides the ability to set the Input and DAC register values, and control the update of the DAC using both the hardware and software LDAC functions. The ordering of menu items is intended to follow the order in which actions are typically performed by the user.</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/ad5770r_dac_operations.jpg"><img alt="../../../_images/ad5770r_dac_operations.jpg" src="../../../_images/ad5770r_dac_operations.jpg" style="width: 400px;" />
</a>
</div></blockquote>
<p>There are three ways in which the DAC output may be controlled using this menu.</p>
<ul class="simple">
<li><p>Write to Input Channel(s), set software LDAC shadow value, then write software LDAC to update DAC output</p></li>
<li><p>Write to Input Channel(s), toggle hardware LDAC</p></li>
<li><p>Write to DAC Channel to directly update DAC output</p></li>
</ul>
<p>Toggling a channel in the software LDAC shadow sets a bit corresponding to that channel in a mask. This SW LDAC Channel shadow value can then be written in a single transaction, transferring the input to the DAC value for all of the channels which are set in the shadow mask.</p>
<p>The channels affected by the hardware LDAC pin toggling are set in the ad5770r_user_config.h file at compile time.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The toggling of the hardware LDAC is outside of the AD5770R No-OS driver, and as such the DAC values are not updated by this action.</p>
</div>
</section>
<section id="support">
<h2>Support<a class="headerlink" href="#support" title="Link to this heading"></a></h2>
<p>Feel free to ask questions in the <a class="icon link reference external" href="https://ez.analog.com/data_converters" target="_blank">EngineerZone</a></p>
</section>
</section>


          </div>
              <div class="related">
                &nbsp;
    <a href="../ad5754r_iio/ad5754r_iio.html" title="Previous document (Alt+Shift+LeftArrow)" class="prev">AD5754R/CN0586 IIO Application</a>
    <a href="../ad579x_iio/ad579x_iio.html" title="Next document (Alt+Shift+RightArrow)" class="next">AD579X IIO Application</a>
              </div>
          
        </div>
      </div>
  </div>

  <label id="cancel-area-show-toc" for="input-show-toc"></label>
  <label id="cancel-area-show-localtoc" for="input-show-localtoc"></label>
    <footer>
      &#169;2023-2024, Analog Devices Inc.
      
      |
      Made with <a href="https://www.sphinx-doc.org/">Sphinx</a>
      &amp; <a href="https://github.com/analogdevicesinc/doctools">Doctools</a>
      
    </footer>
  </body>
</html>