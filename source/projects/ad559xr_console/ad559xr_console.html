<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="Supported Devices:" name="description" />

    <title>AD559XR Console Application &#8212; Precision Converters Firmware  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=8e8a900e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/app.min.css?v=85dade36" />
    <script async="async" src="../../../_static/app.umd.js?v=3a4867e9"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="AD5754R/CN0586 IIO Application" href="../ad5754r_iio/ad5754r_iio.html" />
    <link rel="prev" title="AD4696 IIO Application" href="../ad4696_iio/ad4696_iio.html" />
   
  
  
  <meta name="repository" content="precision-converters-firmware">
  <meta name="version" content="">
  
    <meta name="page_source_suffix" content=".rst">
  
  
  


<style>
  body {
    
  }

  body.dark {
    
  }

  @media (prefers-color-scheme: dark) {
    body:not(.light) {
      
    }
  }
</style>
  </head>
  
    <body>
  
  <input type="checkbox" id="input-show-toc">
  <input type="checkbox" id="input-show-localtoc">
  <input type="checkbox" id="input-show-repotoc">

  
  <div class="search-area">
    <form action="" method="get">
      <input type="text" name="q" aria-labelledby="search-documentation" value="" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="search" placeholder="Search"/>
      <button class="icon"></button>
    </form>
  </div>
  

  <header>
    <div id="left">
      <label id="show-sidebar" class="icon" for="input-show-toc" title="Show/hide index"></label>
    </div>
    <div id="right">
      <span>
        <a id="logo-org" href="https://analog.com" aria-label="Analog Devices Inc. landing page"></a>
        <div class="vertical-divider"></div>
        
        <label id="show-repotoc" for="input-show-repotoc" title="Show/hide docs" tabindex="0">Docs</label>
        
        <a id="logo" href="../../../index.html">
          <div>Precision Converters Firmware</div>
        </a>
      </span>
      <span class="reverse">
        <label id="show-localtoc" class="icon" for="input-show-localtoc" title="Show/hide contents"></label>
      </span>
    </div>
  </header>


  <div class="repotoc-tree overlay">
    <root>
  <a href="../../../index.html" class="current">Precision Converters Firmware</a>
</root>

  </div>
    <div class="localtoc">
      <div class="tocwrapper">
        <div class="header localtoc-header">
          <a id="scroll-up" href="#top-anchor" title="Back to top"></a>
        </div>
        <nav>
          <ul>
<li><a class="reference internal" href="#">AD559XR Console Application</a><ul>
<li><a class="reference internal" href="#supported-hardware">Supported Hardware</a></li>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#interface-diagram">Interface Diagram</a></li>
<li><a class="reference internal" href="#useful-links">Useful Links</a></li>
<li><a class="reference internal" href="#hardware-connections">Hardware Connections</a></li>
<li><a class="reference internal" href="#build-guide">Build Guide</a><ul>
<li><a class="reference internal" href="#build-prerequisites">Build Prerequisites</a></li>
<li><a class="reference internal" href="#building-a-project">Building a project</a></li>
<li><a class="reference internal" href="#running-a-project">Running a project</a></li>
</ul>
</li>
<li><a class="reference internal" href="#quick-start">Quick Start</a></li>
<li><a class="reference internal" href="#using-the-firmware">Using the Firmware</a></li>
<li><a class="reference internal" href="#support">Support</a></li>
</ul>
</li>
</ul>

        </nav>
      </div>
    </div>

  
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
    <a id="no-logo" href="../../../index.html">
      Precision Converters Firmware
    </a><input id="input-switch-toc" type="checkbox">
<label id="show-repotoc" for="input-switch-toc">
All content
</label>
<label id="show-toc" for="input-switch-toc">
Content on this topic
</label>
<div class="repotoc-tree">
  <root>
  <a href="../../../index.html" class="current">Precision Converters Firmware</a>
</root>

</div>
<div class="toc-tree">
  <html>
  <body><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../build/project_build.html">Build Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../code_style.html">Code Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing to PCFW Repository</a></li>
<li class="toctree-l1 current"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1" id="toctree-collapse-1" checked=""/><div class="collapse"><a class="reference internal" href="../index.html">Firmware Applications</a><label for="toctree-collapse-1"><div class="icon"></div></label></div><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../ad2s1210_iio/ad2s1210_iio.html">AD2S1210 IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad353xr_iio/ad353xr_iio.html">AD3530R IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad355xr_iio/ad355xr_iio.html">AD355XR IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad405x_iio/ad405x_iio.html">AD405x IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad4080_iio/ad4080_iio.html">AD4080 IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad4130_iio/ad4130_iio.html">AD4130 IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad4170_iio/ad4170_iio.html">AD4170 IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad4696_iio/ad4696_iio.html">AD4696 IIO Application</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">AD559XR Console Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad5754r_iio/ad5754r_iio.html">AD5754R/CN0586 IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad5770r_console/ad5770r_console.html">AD5770r Console Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad579x_iio/ad579x_iio.html">AD579X IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad590_console/ad590_console.html">AD590 Console Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad5933_console/ad5933_console.html">AD5933 Console Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad7124_console/ad7124_console.html">AD7124 Console Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad7124_iio/ad7124_iio.html">AD7124 IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad7124_temperature-measure/ad7124_temperature-measure.html">AD7124 Temperature Measure Firmware Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad4134_iio/ad4134_iio.html">AD4134/AD7134 IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad717x_console/ad717x_console.html">AD717x / AD411x Console Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad717x_iio/ad717x_iio.html">AD717x / AD411x IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad719x_iio/ad719x_iio.html">AD719x IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad738x_iio/ad738x_iio.html">AD738x IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad7606_iio/ad7606_iio.html">AD7606 IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad7689_iio/ad7689_iio.html">AD7689 IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad77681_iio/ad77681_iio.html">AD7768-1 IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ad777x_iio/ad777x_iio.html">AD777x IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../adt7420_console/adt7420_console.html">ADT7420 Console Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ltc268x_console/ltc268x_console.html">LTC268x Console Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ltc2672_iio/ltc2672_iio.html">LTC2672 IIO Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nanodac_console/nanodac_console.html">nanoDAC+ Console Application</a></li>
</ul>
</li>
</ul>
</body>
</html>

</div>
        </div>
      </div>

  <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper" id="top-anchor">
          <div class="body-header">
  <nav class="breadcrumb"><ol><li><a href="../index.html">Firmware Applications</a></li></ol></nav>
</div>
          <div class="body" role="main">
            
  <section id="ad559xr-console-application">
<h1>AD559XR Console Application<a class="headerlink" href="#ad559xr-console-application" title="Link to this heading"></a></h1>
<section id="supported-hardware">
<h2>Supported Hardware<a class="headerlink" href="#supported-hardware" title="Link to this heading"></a></h2>
<p><strong>Supported Devices:</strong></p>
<ul class="simple">
<li><p><a class="icon link reference external" href="https://www.analog.com/en/products/ad5592r.html" target="_blank">AD5592R</a></p></li>
<li><p><a class="icon link reference external" href="https://www.analog.com/en/products/ad5593r.html" target="_blank">AD5593R</a></p></li>
</ul>
<p><strong>Supported Evaluation Boards:</strong></p>
<ul class="simple">
<li><p><a class="icon link reference external" href="https://www.analog.com/en/resources/evaluation-hardware-and-software/evaluation-boards-kits/EVAL-AD5592R.html" target="_blank">EVAL-AD5592R</a></p></li>
<li><p><a class="icon link reference external" href="https://www.analog.com/en/resources/evaluation-hardware-and-software/evaluation-boards-kits/Eval-ad5593r.html#eb-overview" target="_blank">EVAL-AD5593R</a></p></li>
</ul>
<p><strong>Supported Carrier Boards:</strong></p>
<ul class="simple">
<li><p><a class="icon link reference external" href="https://www.analog.com/en/resources/evaluation-hardware-and-software/evaluation-boards-kits/sdp-k1.html#eb-overview" target="_blank">SDP-K1</a></p></li>
</ul>
</section>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading"></a></h2>
<p>The AD5592R/ AD5593R offer 8-Channel, 12-Bit, configurable ADC/DAC with on-chip reference and either SPI (AD5592R) or I2C interfaces (AD5593R). This page gives an overview of using the AD5592R/AD5593R firmware example with SDP-K1 EVAL board. The firmware example comprises 3 layers of software (from top to bottom): Console Application Layer, Device No-OS Layer and Platform Drivers layer.</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/ad5592r_software_architecture.jpg"><img alt="../../../_images/ad5592r_software_architecture.jpg" src="../../../_images/ad5592r_software_architecture.jpg" style="width: 200px;" />
</a>
</div></blockquote>
<p>The application layer uses the ADI Console Libraries to create console-based User Interactive (UI). The middle layer of No-OS device library has device specific APIs to interface with AD5592R/93R devices. These APIs allows direct access to device register map in order to read/write device registers. The bottom layer of Platform Drivers is responsible for Low Level Interface. The platform drivers use underlying libraries to access low level peripheral (like GPIOs, SPI, I2C, etc). The devices from AD5592R/AD5593R family use SPI and I2C communication interfaces respectively.</p>
<p>The Platform simplifies the overall software development process by providing the low-level driver support. This reduces the hardware dependency as any STM32 board can be used with same firmware with little modifications (changing a pin mapping).It supports STM32 platform.</p>
</section>
<section id="interface-diagram">
<h2>Interface Diagram<a class="headerlink" href="#interface-diagram" title="Link to this heading"></a></h2>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/ad5592r_interface.jpg"><img alt="../../../_images/ad5592r_interface.jpg" src="../../../_images/ad5592r_interface.jpg" style="width: 600px;" />
</a>
</div></blockquote>
<p>The EVAL-AD5592R is connected to SDP-K1 through the on-board default 120-pin SDP connector. Meanwhile, the EVAL-AD5593R is connected using the K1’s Arduino Header and jumper cables.</p>
<p>Both evaluation boards have 8 I/O pins available on the SMB connectors - I/O 0-7. These connectors are analog inputs or outputs depending on whether the I/Ox pin is configured as ADCs or DACs, or as digital inputs or outputs if the I/Ox pin is configured as a GPIO.</p>
<p>The SDP-K1 is connected to PC through USB cable and appears as a USB disk device. The firmware can be loaded into SDP-K1 board through this USB interface from PC, by copying a firmware image file onto the USB disk.</p>
</section>
<section id="useful-links">
<h2>Useful Links<a class="headerlink" href="#useful-links" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><a class="icon link reference external" href="https://github.com/analogdevicesinc/precision-converters-firmware" target="_blank">Source Code: Precision Converters Firmware</a></p></li>
<li><p><a class="icon link reference external" href="https://github.com/analogdevicesinc/no-OS" target="_blank">no-OS: Software drivers for systems without OS</a></p></li>
<li><p><a class="icon link reference external" href="https://www.analog.com/en/resources/evaluation-hardware-and-software/evaluation-boards-kits/sdp-k1.html#eb-overview" target="_blank">SDP-K1</a></p></li>
<li><p><a class="icon link reference external" href="https://github.com/analogdevicesinc/linux" target="_blank">Linux Drivers</a></p></li>
<li><p><a class="icon link reference external" href="https://github.com/analogdevicesinc/hdl" target="_blank">HDL Source Code</a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Linux and HDL are not used in emebdded IIO firmware projects but
they may be of interest if you require Linux and/or FPGA support.</p>
</div>
</section>
<section id="hardware-connections">
<h2>Hardware Connections<a class="headerlink" href="#hardware-connections" title="Link to this heading"></a></h2>
<p>The SDP-K1 is powered by the USB connection to a PC. The SDP-K1 appears as a USB serial device, and the host PC creates a serial or COM Port that can be connected to connect by Terminal software such as Teraterm, Putty, etc. The serial port assigned to a device can be found using the Device Manager for a Windows based OS.</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/ad5592r_connections.jpg"><img alt="../../../_images/ad5592r_connections.jpg" src="../../../_images/ad5592r_connections.jpg" style="width: 600px;" />
</a>
</div></blockquote>
<p>The EVAL-AD5592R-1SDZ can be connected to the SDP-K1 using the 120-way header and is used for the SPI signals. A separate VDD power supply connection is required, either 5V or 3.3V. This can be wired from the corresponding pin on the SDP-K1 Arduino power header to the J2-1 ‘VDD’ screw terminal.</p>
<ul class="simple">
<li><p>If using the on-board ADR431 external reference, a 5V supply is required to provide enough headroom for the reference.</p></li>
<li><p>If using the AD5592R internal reference, a 3.3V supply is sufficient.</p></li>
</ul>
<p>For the firmware example code set the links as follows</p>
<ul>
<li><p>LK1-B, selects external VDD supply on J2-1</p></li>
<li><p>LK3-A, selects ADR431 as reference</p></li>
<li><p>LK11-A, selects 3.3V from SDP as Vlogic supply</p></li>
<li><p>LK2, LK4 to LK9, LK20 - when fitted, connects pull down resistor to ground. Remove link depending on how the I/O pins are configured and used.</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/ad5593r_connections.jpg"><img alt="../../../_images/ad5593r_connections.jpg" src="../../../_images/ad5593r_connections.jpg" style="width: 400px;" />
</a>
</div></blockquote>
</li>
</ul>
<p>The EVAL-AD5593RSDZ can be connected to the SDP-K1 using fly wires from the Arduino header to the signal pins available on J5 and other headers. The VDD power supply connection can be either 5V or 3.3V. This can be wired from the corresponding pin on the SDP-K1 Arduino power header to the J2-1 ‘VDD’ screw terminal.</p>
<ul class="simple">
<li><p>If using the on-board ADR431 external reference, a 5V supply is required to provide enough headroom for the reference.</p></li>
<li><p>If using the AD5592R internal reference, a 3.3V supply is sufficient.</p></li>
</ul>
<p>The connections to be made between the SDP-K1 and the EVAL-AD55923RSDZ are as follows:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>SDP-K1 Arduino Header</p></td>
<td><p>EVAL-AD5593RSDZ</p></td>
</tr>
<tr class="row-even"><td><p>SCL/D15</p></td>
<td><p>J5-2 ‘SCLK’</p></td>
</tr>
<tr class="row-odd"><td><p>SDA/D14</p></td>
<td><p>J5-3 ‘SDI’</p></td>
</tr>
<tr class="row-even"><td><p>5V or 3.3V</p></td>
<td><p>J2-1 ‘VDD’</p></td>
</tr>
<tr class="row-odd"><td><p>3.3V</p></td>
<td><p>J1-1 ‘EXT_LOGIC’</p></td>
</tr>
<tr class="row-even"><td><p>GND</p></td>
<td><p>J5-10 ‘GND’</p></td>
</tr>
</tbody>
</table>
</div>
<p>For the firmware example code set the links as follows</p>
<ul class="simple">
<li><p>LK1-B, selects external VDD supply on J2-1</p></li>
<li><p>LK3-A, selects ADR431 as reference</p></li>
<li><p>LK11-B, selects external Vlogic supply on J1-1</p></li>
<li><p>LK2, LK4 to LK9, LK20 - when fitted, connects pull down resistor to ground. Remove link depending on how the I/O pins are configured and used.</p></li>
</ul>
</section>
<section id="build-guide">
<h2>Build Guide<a class="headerlink" href="#build-guide" title="Link to this heading"></a></h2>
<section id="build-prerequisites">
<h3>Build Prerequisites<a class="headerlink" href="#build-prerequisites" title="Link to this heading"></a></h3>
<p>Prior to building a firmware project, it is required to set up an environment so
that the build process may find the necessary tools (compiler, linker, SDK etc.).
Use the following steps to prepare your environment for building firmware projects
for respective platform.</p>
<div><div class="collapsible docutils container">
<input class="collapsible_input" id="c2875a1b1aa1c2a010c59a908fb40d61a7159c83" name="c2875a1b1aa1c2a010c59a908fb40d61a7159c83" type="checkbox"></input><label for="c2875a1b1aa1c2a010c59a908fb40d61a7159c83"><p>Windows</p>
<div class="icon"></div></label><div class="collapsible_content docutils container">
<div><div class="collapsible docutils container">
<input class="collapsible_input" id="0b016c31a7c49aaf106d1a452555f2fe370a097f" name="0b016c31a7c49aaf106d1a452555f2fe370a097f" type="checkbox"></input><label for="0b016c31a7c49aaf106d1a452555f2fe370a097f"><p>STM32</p>
<div class="icon"></div></label><div class="collapsible_content docutils container">
<ul>
<li><p>Clone Precision Converters Firmware repository with the –recursive flag:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>--recursive<span class="w"> </span>https://github.com/analogdevicesinc/precision-converters-firmware
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>If however you’ve already cloned the repository without the –recursive flag, you may initialize all the submodules in an existing cloned repo with:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>submodule<span class="w"> </span>update<span class="w"> </span>--recursive<span class="w"> </span>--init
</pre></div>
</div>
<div><div class="collapsible docutils container">
<input class="collapsible_input" id="31dd6c13542299d944a089597884f96e3993de5c" name="31dd6c13542299d944a089597884f96e3993de5c" type="checkbox"></input><label for="31dd6c13542299d944a089597884f96e3993de5c"><p>For STM32 IDE based Build</p>
<div class="icon"></div></label><div class="collapsible_content docutils container">
<ul>
<li><p>Install <a class="icon link reference external" href="https://www.st.com/en/development-tools/stm32cubeide.html" target="_blank">STM32CubeIDE</a></p></li>
<li><p>Install <a class="icon link reference external" href="https://www.st.com/en/development-tools/stm32cubemx.html" target="_blank">STM32CubeMX</a></p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/environmental_variables.png"><img alt="../../../_images/environmental_variables.png" src="../../../_images/environmental_variables.png" style="width: 400px;" />
</a>
</div></blockquote>
</li>
</ul>
</div>
</div>
</div></div>
</div>
</div></div>
</div>
</div></section>
<section id="building-a-project">
<h3>Building a project<a class="headerlink" href="#building-a-project" title="Link to this heading"></a></h3>
<p>Once the build enviornment is setup, follow the guide below to build your project
and generate executable file (.bin/.hex)</p>
<div><div class="collapsible docutils container">
<input class="collapsible_input" id="177a48d1a1cc510eeeafd4ff955fe0a3d5492a25" name="177a48d1a1cc510eeeafd4ff955fe0a3d5492a25" type="checkbox"></input><label for="177a48d1a1cc510eeeafd4ff955fe0a3d5492a25"><p>Windows</p>
<div class="icon"></div></label><div class="collapsible_content docutils container">
<div><div class="collapsible docutils container">
<input class="collapsible_input" id="c9175659e704e1f0c11f6803eed9158192d06478" name="c9175659e704e1f0c11f6803eed9158192d06478" type="checkbox"></input><label for="c9175659e704e1f0c11f6803eed9158192d06478"><p>STM32</p>
<div class="icon"></div></label><div class="collapsible_content docutils container">
<div><div class="collapsible docutils container">
<input class="collapsible_input" id="0613647c4123d0f32002dfe5b2e8b17c52cdbffc" name="0613647c4123d0f32002dfe5b2e8b17c52cdbffc" type="checkbox"></input><label for="0613647c4123d0f32002dfe5b2e8b17c52cdbffc"><p>Build Using STM32 IDE</p>
<div class="icon"></div></label><div class="collapsible_content docutils container">
<ul>
<li><p>Open the respective project directory by navigating into the “precision_converters_firmware/projects/” folder.</p></li>
<li><p>In the “STM32” folder present within the project directory, double click and open the .ioc file present within.</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/stm32_project_directory.png"><img alt="../../../_images/stm32_project_directory.png" src="../../../_images/stm32_project_directory.png" style="width: 600px;" />
</a>
</div></blockquote>
</li>
<li><p>Click on the “Generate Code” option seen on the top right corner</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/stm32_generate_code.png"><img alt="../../../_images/stm32_generate_code.png" src="../../../_images/stm32_generate_code.png" style="width: 600px;" />
</a>
</div></blockquote>
</li>
<li><p>Upon successful generation of drivers for the selected MCU, the autogenerated files would be seen in the same directory where the .ioc file was present. Double click and open the “.project” file seen in the list of files</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/stm32_auto_generated_files.png"><img alt="../../../_images/stm32_auto_generated_files.png" src="../../../_images/stm32_auto_generated_files.png" style="width: 600px;" />
</a>
</div></blockquote>
</li>
<li><p>After the project is loaded to the STM32CubeIDE, unfold the adxxxx_iio project seen in the project explorer, right click the “app” folder, select “Settings” under the “C/C++ Build” section on the left pane and un-check the “Exclude resources from build” checkbox. This would ensure that the project specific files are included by the build system</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/stm32_exclude_files_option.png"><img alt="../../../_images/stm32_exclude_files_option.png" src="../../../_images/stm32_exclude_files_option.png" style="width: 600px;" />
</a>
</div></blockquote>
</li>
<li><p>In order to choose STM32 platform in the firmware, select the “ACTIVE_PLATFORM” as “STM32_PLATFORM” in the app_config.h from the respective project. Alternately , add compiler flag “ACTIVE_PLATFORM=value of STM32_PLATFORM in app_config.h” for selecting stm32 platform.</p></li>
<li><p>Add compiler flags “-u _printf_float” to the project settings.</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/stm32_compiler_flag.png"><img alt="../../../_images/stm32_compiler_flag.png" src="../../../_images/stm32_compiler_flag.png" style="width: 600px;" />
</a>
</div></blockquote>
</li>
<li><p>Exclude the generated file syscalls.c from the build process</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/stm32_exclude_syscalls.png"><img alt="../../../_images/stm32_exclude_syscalls.png" src="../../../_images/stm32_exclude_syscalls.png" style="width: 600px;" />
</a>
</div></blockquote>
</li>
<li><dl>
<dt>To generate the binary file, right click on the adxxxx_iio project seen in the project explorer and select “Properties”, select “Settings” under the “C/C++ Build” section on the left pane, select “MCU Post build outputs” under “Tool Settings” section and check the “Convert to binary file (-O binary)” checkbox.</dt><dd><a class="reference internal image-reference" href="../../../_images/stm32_convert_to_binary.png"><img alt="../../../_images/stm32_convert_to_binary.png" src="../../../_images/stm32_convert_to_binary.png" style="width: 600px;" />
</a>
</dd>
</dl>
</li>
<li><p>Build the project by right-clicking on the adxxxx_iio project seen in the project explorer and select “Build Project”</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/stm32_build_project.png"><img alt="../../../_images/stm32_build_project.png" src="../../../_images/stm32_build_project.png" style="width: 600px;" />
</a>
</div></blockquote>
</li>
</ul>
</div>
</div>
</div></div>
</div>
</div></div>
</div>
</div></section>
<section id="running-a-project">
<h3>Running a project<a class="headerlink" href="#running-a-project" title="Link to this heading"></a></h3>
<p>Once the firmware build is successful and binary file is generated, copy the
generated binary into USB drive hosted by your MCU board (e.g. USB drive hosted
by MCU board on windows). This will flash the binary file into MCU present
on the controller board. Programming might vary based on the tools used for building
a project. The ‘Project Build’ section above talks about this exception at the end
of all build steps.</p>
</section>
</section>
<section id="quick-start">
<h2>Quick Start<a class="headerlink" href="#quick-start" title="Link to this heading"></a></h2>
<p>If you have some familiarity with STM32 platform, the following is a basic list of steps required to start running the code, see below for more detail:</p>
<ul class="simple">
<li><p>Connect the AD5592R/AD55593R EVAL-board to the SDP-K1 controller board.</p></li>
<li><p>Connect the SDP-K1 controller board to your computer over USB.</p></li>
<li><p>Go to the link provided above in the ‘Build Guide’ section and import code into Keil Studio Web IDE.</p></li>
<li><p>Ensure SDP-K1 controller board is selected (top right of online-compiler page).</p></li>
<li><p>Compile the code.</p></li>
<li><p>After a successful compile a binary will be downloaded to your computer - store this on your drive.</p></li>
<li><p>Drag and drop this binary to the USB drive hosted by your controller board.</p></li>
<li><p>Start up a serial terminal emulator (e.g., Tera Term)</p></li>
<li><p>Find the com-port your controller board is connected on and select it.</p></li>
<li><p>Set the baud-rate for 230400</p></li>
<li><p>Reset the controller board and connect.</p></li>
<li><p>Use the menu provided over the terminal window to access the evaluation board.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Selecting between the AD5592R and AD5593R is done in app_config.h file by commenting or uncommenting ID_AD5592R/ID_AD5593R as the ACTIVE_DEVICE</p>
<p>If the AD5592R/93R is not provided with an external voltage reference, or the on-board voltage reference is not powered, enable the internal reference under [s] General Settings</p>
</div>
</section>
<section id="using-the-firmware">
<h2>Using the Firmware<a class="headerlink" href="#using-the-firmware" title="Link to this heading"></a></h2>
<p>The AD5592R/93R firmware example is configured to have following serial settings:</p>
<ul class="simple">
<li><p>Baud rate: 230400</p></li>
<li><p>Data bits: 8-bits</p></li>
<li><p>Parity: None</p></li>
<li><p>Stop bits: 1</p></li>
</ul>
<p>Configure your serial terminal (<a class="icon link reference external" href="https://osdn.net/projects/ttssh2/releases/" target="_blank">Tera Term</a>)
for below settings:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/braud_rate_update.jpg"><img alt="../../../_images/braud_rate_update.jpg" src="../../../_images/braud_rate_update.jpg" style="width: 600px;" />
</a>
</div></blockquote>
<p>The AD5592R Main Menu looks like below (with Tera Term):</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/ad5592r_teraterm.jpg"><img alt="../../../_images/ad5592r_teraterm.jpg" src="../../../_images/ad5592r_teraterm.jpg" style="width: 300px;" />
</a>
</div></blockquote>
<p>The firmware is designed to be intuitive to use, and requires little explanation, simply enter the letter corresponding to the required command and follow the on-screen prompts.</p>
<p>The console menu application provides the following main features:</p>
<ul class="simple">
<li><p>Configure each of the 8 I/O channels as ADCs, DACs, ADCs and DACs, GPI or GPO.</p></li>
<li><p>Enable/Disable general settings such as the Pre-charge buffer or change the ADC/DAC Gain.</p></li>
<li><p>Write voltage values to channels configured as DACs.</p></li>
<li><p>Read values in a conversion sequence from channels set as ADCs and included in a conversion sequence.</p></li>
<li><p>Read status of channels set as GPIO Inputs and toggle status of channels set as GPIO Outputs.</p></li>
<li><p>Perform software reset.</p></li>
<li><p>Read die temperature.</p></li>
</ul>
<p>It is hoped that the most common functions of the AD5592R and AD5593R devices are coded, but it’s likely that some special functionality is not implemented.</p>
</section>
<section id="support">
<h2>Support<a class="headerlink" href="#support" title="Link to this heading"></a></h2>
<p>Feel free to ask questions in the <a class="icon link reference external" href="https://ez.analog.com/data_converters" target="_blank">EngineerZone</a></p>
</section>
</section>


          </div>
              <div class="related">
                &nbsp;
    <a href="../ad4696_iio/ad4696_iio.html" title="Previous document (Alt+Shift+LeftArrow)" class="prev">AD4696 IIO Application</a>
    <a href="../ad5754r_iio/ad5754r_iio.html" title="Next document (Alt+Shift+RightArrow)" class="next">AD5754R/CN0586 IIO Application</a>
              </div>
          
        </div>
      </div>
  </div>

  <label id="cancel-area-show-toc" for="input-show-toc"></label>
  <label id="cancel-area-show-localtoc" for="input-show-localtoc"></label>
    <footer>
      &#169;2023-2024, Analog Devices Inc.
      
      |
      Made with <a href="https://www.sphinx-doc.org/">Sphinx</a>
      &amp; <a href="https://github.com/analogdevicesinc/doctools">Doctools</a>
      
    </footer>
  </body>
</html>